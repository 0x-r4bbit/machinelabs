<div fx-layout="row">
  <div fx-flex="25" [hidden]="sidebarToggled" class="ml-sidebar">
    <div fx-flex-align="center" class="ml-sidebar__layout">
      <h1 class="ml-logo">MachineLabs <span>Democratizing AI</span></h1>
        <md-divider></md-divider>
        <h3 md-subheader>Files</h3>
        <md-nav-list>
          <md-list-item *ngFor="let file of lab.files" (click)="openFile(file)">
            {{file.name}} <button md-raised-button [disabled]="lab.files.length == 1" (click)="deleteFile(file)">Delete</button>
          </md-list-item>
        </md-nav-list>
        <md-divider></md-divider>
        <button md-raised-button md-button (click)="openAddFileDialog()">Add File</button>
    </div>
  </div>
  <div fx-flex>
    <md-toolbar color="primary">
      <span>MachineLabs</span>
      <span class="ml-toolbar__fill-space"></span>
      <div class="ml-toolbar__cta-bar">
        <button md-raised-button md-button (click)="run(lab)"><md-icon>cached</md-icon> Run</button>
        <button md-raised-button md-button (click)="save(lab)"><md-icon>save</md-icon> Save</button>
        <button md-raised-button md-button (click)="fork(lab)"><md-icon>build</md-icon> Fork</button>

        <!-- menu opens when trigger button is clicked -->
        <button md-icon-button [md-menu-trigger-for]="menu">
          <md-icon>more_vert</md-icon>
        </button>

        <md-menu #menu="mdMenu">
            <button md-menu-item><md-icon>settings</md-icon> Settings</button>
            <button md-menu-item><md-icon>help</md-icon> Help</button>
            <button md-menu-item disabled><md-icon>exit_to_app</md-icon> Sign Out</button>
        </md-menu>
      </div>
    </md-toolbar>

    <div role="main">
      <div fx-layout="row">
        <ml-panel [panelTitle]="activeFile.name" fx-flex="50">
          <ml-ace-editor
            #editor
            [(value)]="activeFile.content"
            mode="python"
          ></ml-ace-editor>
        </ml-panel>
        <ml-panel panelTitle="Output" fx-flex="50">
          <ml-ace-editor
            [value]="output | async"
            [readOnly]="true"
            [showGutter]="false"
            mode="sh"
          >
          </ml-ace-editor>
        </ml-panel>
      </div>
    </div>
  </div>
</div>
